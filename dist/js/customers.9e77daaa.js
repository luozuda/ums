(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customers"],{dfe8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-input-search",{staticStyle:{width:"200px","margin-bottom":"10px"},attrs:{placeholder:"搜索用户名(精确搜索)"},on:{search:e.onSearch}}),a("a-list",{attrs:{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:3,xxl:6},dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t){return a("a-list-item",{},[a("a-card",{attrs:{title:t.name}},[a("p",[e._v("手机："+e._s(t.phone))]),a("p",[e._v("性别："+e._s("a"==t.sex?"男":"女"))]),a("p",[e._v("住址："+e._s(t.address))]),a("p",[e._v("备注："+e._s(t.remarks))]),a("a",{attrs:{slot:"actions"},on:{click:function(a){return e.editCustomer(t)}},slot:"actions"},[e._v("编辑")]),a("a",{attrs:{slot:"actions"},on:{click:function(a){return e.delCustomer(t.name)}},slot:"actions"},[e._v("删除")])])],1)}}])}),a("a-modal",{attrs:{title:"编辑用户",footer:null},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-form",{attrs:{form:e.form},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{addonBefore:"用户名",disabled:""}})],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"手机不能为空!"}]}],expression:"[\n            'phone',\n            {\n              rules: [{\n                required: true, message: '手机不能为空!',\n              }],\n            }\n          ]"}],attrs:{addonBefore:"手机"}})],1),a("a-form-item",[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{rules:[{required:!0,message:"性别不能为空!"}]}],expression:"[\n            'sex',\n            {\n              rules: [{\n                required: true, message: '性别不能为空!',\n              }],\n            }\n          ]"}],attrs:{addonBefore:"性别",buttonStyle:"solid"}},[a("a-radio-button",{attrs:{value:"a"}},[e._v("男")]),a("a-radio-button",{attrs:{value:"b"}},[e._v("女")])],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address"],expression:"['address']"}],attrs:{addonBefore:"住址"}})],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarks"],expression:"['remarks']"}],attrs:{addonBefore:"备注"}})],1),a("a-form-item",[a("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},s=[],o=a("d722"),n={data:function(){return{visible:!1,data:[]}},beforeMount:function(){this.fetchCustomers(),this.form=this.$form.createForm(this)},methods:{fetchCustomers:function(){var e=this;o["a"].post("/customer/all").then(function(t){e.data=t.data.data}).catch(function(t){e.$message.error(t)})},onSearch:function(e){var t=this;e?o["a"].post("/customer/search",{value:e}).then(function(e){t.data=e.data.data}).catch(function(e){t.$message.error(e)}):this.fetchCustomers()},delCustomer:function(e){var t=this;this.$confirm({title:"确定删除用户："+e+"？",okText:"删除",onOk:function(){o["a"].post("/customer/delete",{name:e}).then(function(e){t.data=e.data.data,t.$message.success(e.data.msg)}).catch(function(e){t.$message.error(e)})},cancelText:"取消",onCancel:function(){}})},editCustomer:function(e){var t=this;this.visible=!0,setTimeout(function(){t.form.setFieldsValue(e)},0)},handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){t||o["a"].post("/customer/edit",a).then(function(t){e.data=t.data.data,e.$message.success(t.data.msg),e.visible=!1}).catch(function(t){e.$message.error(t)})})}}},i=n,u=a("2877"),c=Object(u["a"])(i,r,s,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=customers.9e77daaa.js.map