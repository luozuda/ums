(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customerManage"],{"3a389":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("a-form-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"用户名不能为空！"},{max:11,message:"用户名不能超过11个字符！"}]}],expression:"[\n        'name',\n        { \n          rules: [{ \n            required: true, message: '用户名不能为空！' \n          },{\n            max:11,message:'用户名不能超过11个字符！'\n          }] \n        }\n      ]"}],attrs:{placeholder:"name"}})],1),a("a-form-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"手机"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"手机不能为空！"},{pattern:/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,message:"请输入11位的有效手机号！"}]}],expression:"[\n        'phone',\n        { \n          rules: [{ \n            required: true, message: '手机不能为空！' \n          },{\n            pattern:/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\\d{8}$/,message:'请输入11位的有效手机号！'\n          }] \n        }\n      ]"}],attrs:{placeholder:"phone"}})],1),a("a-form-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"性别"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{rules:[{required:!0,message:"性别不能为空!"}]}],expression:"[\n        'sex',\n        {\n          rules: [{\n            required: true, message: '性别不能为空!',\n          }],\n        }\n      ]"}],attrs:{buttonStyle:"solid"}},[a("a-radio-button",{attrs:{value:"a"}},[e._v("男")]),a("a-radio-button",{attrs:{value:"b"}},[e._v("女")])],1)],1),a("a-form-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"住址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address"],expression:"['address']"}],attrs:{placeholder:"address"}})],1),a("a-form-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"备注"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarks"],expression:"['remarks']"}],attrs:{placeholder:"remarks"}})],1),a("a-form-item",[a("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary","html-type":"submit"}},[e._v("添加用户")])],1)],1)},s=[],o=a("d722"),n={data:function(){return{sex:"",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:19}}}},beforeMount:function(){this.form=this.$form.createForm(this)},methods:{handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){t||o["a"].post("/customer/add",a).then(function(t){e.$message.success(t.data.msg),e.$router.push({path:"/customers"})}).catch(function(t){e.$message.error(t)})})}}},i=n,l=a("2877"),m=Object(l["a"])(i,r,s,!1,null,null,null);t["default"]=m.exports},"7d5b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-input-search",{staticStyle:{width:"200px","margin-bottom":"10px"},attrs:{placeholder:"搜索用户名(精确搜索)"},on:{search:e.onSearch}}),a("a-list",{attrs:{grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:3,xxl:6},dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t){return a("a-list-item",{},[a("a-card",{attrs:{title:t.name}},[a("p",[e._v("手机："+e._s(t.phone))]),a("p",[e._v("性别："+e._s("a"==t.sex?"男":"女"))]),a("p",[e._v("住址："+e._s(t.address))]),a("p",[e._v("备注："+e._s(t.remarks))]),a("a",{attrs:{slot:"actions"},on:{click:function(a){return e.editCustomer(t)}},slot:"actions"},[e._v("编辑")]),a("a",{attrs:{slot:"actions"},on:{click:function(a){return e.delCustomer(t.name)}},slot:"actions"},[e._v("删除")])])],1)}}])}),a("a-modal",{attrs:{title:"编辑用户",footer:null},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-form",{attrs:{form:e.form},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("a-form-item",e._b({attrs:{label:"用户名"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{disabled:""}})],1),a("a-form-item",e._b({attrs:{label:"手机"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"手机不能为空!"},{pattern:/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,message:"请输入11位的有效手机号！"}]}],expression:"[\n            'phone',\n            {\n              rules: [{\n                required: true, message: '手机不能为空!',\n              },{\n                pattern:/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\\d{8}$/,message:'请输入11位的有效手机号！'\n              }],\n            }\n          ]"}]})],1),a("a-form-item",e._b({attrs:{label:"性别"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{rules:[{required:!0,message:"性别不能为空!"}]}],expression:"[\n            'sex',\n            {\n              rules: [{\n                required: true, message: '性别不能为空!',\n              }],\n            }\n          ]"}],attrs:{buttonStyle:"solid"}},[a("a-radio-button",{attrs:{value:"a"}},[e._v("男")]),a("a-radio-button",{attrs:{value:"b"}},[e._v("女")])],1)],1),a("a-form-item",e._b({attrs:{label:"住址"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address"],expression:"['address']"}]})],1),a("a-form-item",e._b({attrs:{label:"备注"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarks"],expression:"['remarks']"}]})],1),a("a-form-item",[a("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},s=[],o=a("d722"),n={data:function(){return{visible:!1,formItemLayout:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},data:[]}},beforeMount:function(){this.fetchCustomers(),this.form=this.$form.createForm(this)},methods:{fetchCustomers:function(){var e=this;o["a"].post("/customer/all").then(function(t){e.data=t.data.data}).catch(function(t){e.$message.error(t)})},onSearch:function(e){var t=this;e?o["a"].post("/customer/search",{value:e}).then(function(e){t.data=e.data.data}).catch(function(e){t.$message.error(e)}):this.fetchCustomers()},delCustomer:function(e){var t=this;this.$confirm({title:"确定删除用户："+e+"？",okText:"删除",onOk:function(){o["a"].post("/customer/delete",{name:e}).then(function(e){t.data=e.data.data,t.$message.success(e.data.msg)}).catch(function(e){t.$message.error(e)})},cancelText:"取消",onCancel:function(){}})},editCustomer:function(e){var t=this;this.visible=!0,setTimeout(function(){t.form.setFieldsValue(e)},0)},handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){t||o["a"].post("/customer/edit",a).then(function(t){e.data=t.data.data,e.$message.success(t.data.msg),e.visible=!1}).catch(function(t){e.$message.error(t)})})}}},i=n,l=a("2877"),m=Object(l["a"])(i,r,s,!1,null,null,null);t["default"]=m.exports},"8e0b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},s=[],o={},n=o,i=a("2877"),l=Object(i["a"])(n,r,s,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=customerManage.929bc443.js.map