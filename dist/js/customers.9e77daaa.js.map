{"version":3,"sources":["webpack:///./src/views/Customers.vue?07ef","webpack:///src/views/Customers.vue","webpack:///./src/views/Customers.vue?666a","webpack:///./src/views/Customers.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","width","margin-bottom","attrs","placeholder","on","search","onSearch","grid","gutter","xs","sm","md","lg","xl","xxl","dataSource","data","scopedSlots","_u","key","fn","item","title","name","_v","_s","phone","sex","address","remarks","slot","click","$event","editCustomer","delCustomer","footer","model","value","callback","$$v","visible","expression","form","submit","preventDefault","handleSubmit","directives","rawName","addonBefore","disabled","rules","required","message","buttonStyle","staticClass","type","html-type","staticRenderFns","Customersvue_type_script_lang_js_","beforeMount","fetchCustomers","$form","createForm","methods","_this2","api","post","then","res","catch","err","$message","error","_this3","_this","$confirm","okText","onOk","success","msg","cancelText","onCancel","_this4","setTimeout","setFieldsValue","_this5","validateFields","values","views_Customersvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/customers.9e77daaa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-input-search',{staticStyle:{\"width\":\"200px\",\"margin-bottom\":\"10px\"},attrs:{\"placeholder\":\"搜索用户名(精确搜索)\"},on:{\"search\":_vm.onSearch}}),_c('a-list',{attrs:{\"grid\":{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 3, xl: 3, xxl: 6 },\"dataSource\":_vm.data},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item){return _c('a-list-item',{},[_c('a-card',{attrs:{\"title\":item.name}},[_c('p',[_vm._v(\"手机：\"+_vm._s(item.phone))]),_c('p',[_vm._v(\"性别：\"+_vm._s(item.sex=='a'?'男':'女'))]),_c('p',[_vm._v(\"住址：\"+_vm._s(item.address))]),_c('p',[_vm._v(\"备注：\"+_vm._s(item.remarks))]),_c('a',{attrs:{\"slot\":\"actions\"},on:{\"click\":function($event){return _vm.editCustomer(item)}},slot:\"actions\"},[_vm._v(\"编辑\")]),_c('a',{attrs:{\"slot\":\"actions\"},on:{\"click\":function($event){return _vm.delCustomer(item.name)}},slot:\"actions\"},[_vm._v(\"删除\")])])],1)}}])}),_c('a-modal',{attrs:{\"title\":\"编辑用户\",\"footer\":null},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('a-form',{attrs:{\"form\":_vm.form},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name']),expression:\"['name']\"}],attrs:{\"addonBefore\":\"用户名\",\"disabled\":\"\"}})],1),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'phone',\n            {\n              rules: [{\n                required: true, message: '手机不能为空!',\n              }],\n            }\n          ]),expression:\"[\\n            'phone',\\n            {\\n              rules: [{\\n                required: true, message: '手机不能为空!',\\n              }],\\n            }\\n          ]\"}],attrs:{\"addonBefore\":\"手机\"}})],1),_c('a-form-item',[_c('a-radio-group',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'sex',\n            {\n              rules: [{\n                required: true, message: '性别不能为空!',\n              }],\n            }\n          ]),expression:\"[\\n            'sex',\\n            {\\n              rules: [{\\n                required: true, message: '性别不能为空!',\\n              }],\\n            }\\n          ]\"}],attrs:{\"addonBefore\":\"性别\",\"buttonStyle\":\"solid\"}},[_c('a-radio-button',{attrs:{\"value\":\"a\"}},[_vm._v(\"男\")]),_c('a-radio-button',{attrs:{\"value\":\"b\"}},[_vm._v(\"女\")])],1)],1),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['address']),expression:\"['address']\"}],attrs:{\"addonBefore\":\"住址\"}})],1),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['remarks']),expression:\"['remarks']\"}],attrs:{\"addonBefore\":\"备注\"}})],1),_c('a-form-item',[_c('a-button',{staticClass:\"login-form-button\",attrs:{\"type\":\"primary\",\"html-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <a-input-search\r\n      placeholder=\"搜索用户名(精确搜索)\"\r\n      style=\"width: 200px;margin-bottom:10px;\"\r\n      @search=\"onSearch\"\r\n    />\r\n    <a-list :grid=\"{ gutter: 16, xs: 1, sm: 2, md: 3, lg: 3, xl: 3, xxl: 6 }\" :dataSource=\"data\">\r\n      <a-list-item slot=\"renderItem\" slot-scope=\"item\">\r\n        <a-card :title=\"item.name\">\r\n          <p>手机：{{item.phone}}</p>\r\n          <p>性别：{{item.sex=='a'?'男':'女'}}</p>\r\n          <p>住址：{{item.address}}</p>\r\n          <p>备注：{{item.remarks}}</p>\r\n          <a slot=\"actions\" @click=\"editCustomer(item)\">编辑</a>\r\n          <a slot=\"actions\" @click=\"delCustomer(item.name)\">删除</a>\r\n        </a-card>\r\n      </a-list-item>\r\n    </a-list>\r\n    <a-modal title=\"编辑用户\" v-model=\"visible\" :footer=\"null\">\r\n      <a-form :form=\"form\" @submit.prevent=\"handleSubmit\">\r\n        <a-form-item>\r\n          <a-input addonBefore=\"用户名\" v-decorator=\"['name']\" disabled/>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-input\r\n            addonBefore=\"手机\"\r\n            v-decorator=\"[\r\n              'phone',\r\n              {\r\n                rules: [{\r\n                  required: true, message: '手机不能为空!',\r\n                }],\r\n              }\r\n            ]\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-radio-group\r\n            addonBefore=\"性别\"\r\n            v-decorator=\"[\r\n              'sex',\r\n              {\r\n                rules: [{\r\n                  required: true, message: '性别不能为空!',\r\n                }],\r\n              }\r\n            ]\"\r\n            buttonStyle=\"solid\"\r\n          >\r\n            <a-radio-button value=\"a\">男</a-radio-button>\r\n            <a-radio-button value=\"b\">女</a-radio-button>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-input addonBefore=\"住址\" v-decorator=\"['address']\"/>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-input addonBefore=\"备注\" v-decorator=\"['remarks']\"/>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-button type=\"primary\" html-type=\"submit\" class=\"login-form-button\">提交</a-button>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { api } from \"../api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      data: []\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.fetchCustomers();\r\n    this.form = this.$form.createForm(this);\r\n  },\r\n  methods: {\r\n    fetchCustomers() {\r\n      api\r\n        .post(\"/customer/all\")\r\n        .then(res => {\r\n          this.data = res.data.data;\r\n        })\r\n        .catch(err => {\r\n          this.$message.error(err);\r\n        });\r\n    },\r\n    onSearch(value) {\r\n      if (value) {\r\n        api\r\n          .post(\"/customer/search\", { value })\r\n          .then(res => {\r\n            this.data = res.data.data;\r\n          })\r\n          .catch(err => {\r\n            this.$message.error(err);\r\n          });\r\n      } else {\r\n        this.fetchCustomers();\r\n      }\r\n    },\r\n    delCustomer(name) {\r\n      const _this = this;\r\n      this.$confirm({\r\n        title: \"确定删除用户：\" + name + \"？\",\r\n        okText: \"删除\",\r\n        onOk() {\r\n          api\r\n            .post(\"/customer/delete\", { name })\r\n            .then(res => {\r\n              _this.data = res.data.data;\r\n              _this.$message.success(res.data.msg);\r\n            })\r\n            .catch(err => {\r\n              _this.$message.error(err);\r\n            });\r\n        },\r\n        cancelText: \"取消\",\r\n        onCancel() {}\r\n      });\r\n    },\r\n    editCustomer(item) {\r\n      this.visible = true;\r\n      setTimeout(() => {\r\n        this.form.setFieldsValue(item);\r\n      }, 0);\r\n    },\r\n    handleSubmit() {\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          api\r\n            .post(\"/customer/edit\", values)\r\n            .then(res => {\r\n              this.data = res.data.data;\r\n              this.$message.success(res.data.msg);\r\n              this.visible = false;\r\n            })\r\n            .catch(err => {\r\n              this.$message.error(err);\r\n            });\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Customers.vue?vue&type=template&id=5b1f7962&\"\nimport script from \"./Customers.vue?vue&type=script&lang=js&\"\nexport * from \"./Customers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}